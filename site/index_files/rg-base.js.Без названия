"use strict";YUI.add("rg-uri",(function(t){t.namespace("rg");
/*!
   * jsUri
   * https://github.com/derek-watson/jsUri
   *
   * Copyright 2011, Derek Watson
   * Released under the MIT license.
   * http://jquery.org/license
   *
   * Includes parseUri regular expressions
   * http://blog.stevenlevithan.com/archives/parseuri
   * Copyright 2007, Steven Levithan
   * Released under the MIT license.
   */
var r=function(){function t(t){return null!==t&&""!==t}function r(t){var r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],i="queryKey",o=/(?:^|&)([^&=]*)=?([^&]*)/g,s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t=t||""),n=14,h=this;for(this.uriParts={};n--;)this.uriParts[r[n]]=s[n]||"";this.uriParts[i]={},this.uriParts[r[12]].replace(o,(function(t,r,e){r&&(h.uriParts[i][r]=e)})),this.queryObj=new e(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}return r.prototype.protocol=function(t){return void 0!==t&&(this.uriParts.protocol=t),this.uriParts.protocol},r.prototype.hasAuthorityPrefix=function(t){return void 0!==t&&(this.hasAuthorityPrefixUserPref=t),null===this.hasAuthorityPrefixUserPref?-1!==this.uriParts.source.indexOf("//"):this.hasAuthorityPrefixUserPref},r.prototype.userInfo=function(t){return void 0!==t&&(this.uriParts.userInfo=t),this.uriParts.userInfo},r.prototype.host=function(t){return void 0!==t&&(this.uriParts.host=t),this.uriParts.host},r.prototype.port=function(t){return void 0!==t&&(this.uriParts.port=t),this.uriParts.port},r.prototype.path=function(t){return void 0!==t&&(this.uriParts.path=t),this.uriParts.path},r.prototype.query=function(t){return void 0!==t&&(this.queryObj=new e(t)),this.queryObj},r.prototype.anchor=function(t){return void 0!==t&&(this.uriParts.anchor=t),this.uriParts.anchor},r.prototype.setProtocol=function(t){return this.protocol(t),this},r.prototype.setHasAuthorityPrefix=function(t){return this.hasAuthorityPrefix(t),this},r.prototype.setUserInfo=function(t){return this.userInfo(t),this},r.prototype.setHost=function(t){return this.host(t),this},r.prototype.setPort=function(t){return this.port(t),this},r.prototype.setPath=function(t){return this.path(t),this},r.prototype.setQuery=function(t){return this.query(t),this},r.prototype.setAnchor=function(t){return this.anchor(t),this},r.prototype.getQueryParamValue=function(t){return this.query().getParamValue(t)},r.prototype.getQueryParamValues=function(t){return this.query().getParamValues(t)},r.prototype.deleteQueryParam=function(t,r){return 2===arguments.length?this.query().deleteParam(t,r):this.query().deleteParam(t),this},r.prototype.addQueryParam=function(t,r,e){return 3===arguments.length?this.query().addParam(t,r,e):this.query().addParam(t,r),this},r.prototype.replaceQueryParam=function(t,r,e){return 3===arguments.length?this.query().replaceParam(t,r,e):this.query().replaceParam(t,r),this},r.prototype.scheme=function(){var r="";return t(this.protocol())?(r+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(r+=":"),r+="//"):this.hasAuthorityPrefix()&&t(this.host())&&(r+="//"),r},r.prototype.origin=function(){var r=this.scheme();return t(this.userInfo())&&t(this.host())&&(r+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(r+="@")),t(this.host())&&(r+=this.host(),t(this.port())&&(r+=":"+this.port())),r},r.prototype.toString=function(){var r=this.origin();return t(this.path())&&(r+=this.path()),t(this.query().toString())&&(0!==this.query().toString().indexOf("?")&&(r+="?"),r+=this.query().toString()),t(this.anchor())&&(0!==this.anchor().indexOf("#")&&(r+="#"),r+=this.anchor()),r},r.prototype.clone=function(){return new r(this.toString())},r}(),e=function(){function t(t){return t=(t=decodeURIComponent(t)).replace("+"," ")}function r(t){var r,e,i,o,s,n,h;if(this.params=[],null!=t&&""!==t)for(0===t.indexOf("?")&&(t=t.substring(1)),e=t.toString().split(/[&;]/),r=0;r<e.length;r++)n=(o=(i=e[r]).split("="))[0],s=null===o[1]?"":o[1],h=-1===i.indexOf("=")?null:s,this.params.push([n,h])}return r.prototype.getParamValue=function(r){var e,i;for(i=0;i<this.params.length;i++)if(e=this.params[i],t(r)===t(e[0]))return e[1]},r.prototype.getParamValues=function(r){var e,i,o=[];for(e=0;e<this.params.length;e++)i=this.params[e],t(r)===t(i[0])&&o.push(i[1]);return o},r.prototype.deleteParam=function(r,e){var i,o,s,n,h=[];for(i=0;i<this.params.length;i++)s=t((o=this.params[i])[0])===t(r),n=t(o[1])===t(e),(1===arguments.length&&!s||2===arguments.length&&!s&&!n)&&h.push(o);return this.params=h,this},r.prototype.addParam=function(t,r,e){return 3===arguments.length&&-1!==e?(e=Math.min(e,this.params.length),this.params.splice(e,0,[t,r])):arguments.length>0&&this.params.push([t,r]),this},r.prototype.replaceParam=function(r,e,i){var o,s,n=-1;if(3===arguments.length){for(o=0;o<this.params.length;o++)if(t((s=this.params[o])[0])===t(r)&&decodeURIComponent(s[1])===t(i)){n=o;break}this.deleteParam(r,i).addParam(r,e,n)}else{for(o=0;o<this.params.length;o++)if(t((s=this.params[o])[0])===t(r)){n=o;break}this.deleteParam(r),this.addParam(r,e,n)}return this},r.prototype.toString=function(){var t,r,e="";for(t=0;t<this.params.length;t++)r=this.params[t],e.length>0&&(e+="&"),null===r[1]?e+=r[0]:e+=r.join("=");return e.length>0?"?"+e:e},r}();t.rg.Uri=r,t.rg.Query=e}),"0.0.1",{});
"use strict";YUI.add("rg-ajax",(function(e){var r;e.namespace("rg");var t=0;e.rg.ajaxDbwAware=function(r,t,n,o,s,a,u){return e.Lang.isUndefined(a)&&(a="GET"),a=a.toUpperCase(),e.rg.ajax(r,t,n,o,s,a,u)},e.rg.ajaxEncodePostData=function(r,t){return function r(n,o,s){for(var a in o)if(o.hasOwnProperty(a)){var u=n?n+"["+a+"]":a;e.Lang.isObject(o[a])?r(u,o[a],s):void 0!==o[a]&&null!==o[a]&&(s[u]=t?o[a]:encodeURIComponent(o[a]))}return s}("",r,{})},e.rg.ajaxEncodePostDataToQueryString=function(r){var t=e.rg.ajaxEncodePostData(r),n=[];for(var o in t)t.hasOwnProperty(o)&&n.push(o+"="+t[o]);return n.length>0?n.join("&"):null};var n=function(n,o,s,a,u,i,c){var g,d=e.merge(c,{Accept:"application/json"});return e.Lang.isObject(o)||(o={}),e.Lang.isUndefined(i)&&(i="POST"),"POST"!==i&&"PUT"!==i&&"DELETE"!==i&&"PATCH"!==i||(o.request_token=RGCommons.requestToken.get(),d["Content-Type"]="application/x-www-form-urlencoded"),r=i,{headers:d,method:i,data:e.rg.ajaxEncodePostDataToQueryString(o),arguments:{fn:s,context:a,args:u},on:{start:function(){g=(new Date).getTime()},success:function(r,d,f){var l,p=d.getResponseHeader("x-rg-request-token"),m=(new Date).getTime();if(p&&RGCommons.requestToken.update(p),204===d.status)l={success:!0,result:{},errors:[]};else try{if(RGCommons.performedRequests.log(n,i,d,!0,parseInt(m-g,10)),(l=e.JSON.parse(d.responseText)).debug&&e.Array.each(l.debug,(function(r){e.log(r.message,"info"),e.log(r.context,"info")})),l.requestToken&&RGCommons.requestToken.update(l.requestToken),l.errors&&"csrf-retry"===l.errors[0]&&t<5)return t++,void e.rg.ajaxDbwAware(n,o,s,a,u,i,c);if(l.success&&(t=0),!1===l.success&&l.result.redirect)return e.log("ajax redirect: "+l.result.redirect),void e.rg.utils.url.forwardTo(l.result.redirect)}catch(e){l={success:!1,result:{},errors:["An error occurred while parsing server response.",e.message]}}e.Lang.isFunction(f.fn)&&f.fn.call(f.context,l,f.args)},failure:function(r,t,o){var s;try{RGCommons.performedRequests.log(n,i,t,!1),s=e.JSON.parse(t.responseText)}catch(e){s={success:!1,result:{},errors:["A server error occurred"]}}s.success=!1,!e.Lang.isFunction(o.fn)||t&&!t.status||o.fn.call(o.context,s,o.args)}}}};e.rg.ajax=function(t,o,s,a,u,i,c){if(!t)throw new Error("Trying to perform ajax request to empty url");if(r&&"GET"!==r||"GET"!==i){var g=new e.rg.Uri(t);g.addQueryParam("dbw","true"),t=g.toString()}return e.io(t,n(t,o,s,a,u,i,c))},e.rg.queueAjax=function(t,o,s,a,u,i,c){if(!t)throw new Error("Trying to queue ajax request to empty url");if(r&&"GET"!==r||"GET"!==i){var g=new e.rg.Uri(t);g.addQueryParam("dbw","true"),t=g.toString()}return e.io.queue(t,n(t,o,s,a,u,i,c))}}),"0.0.1",{requires:["io-base","io-queue","json","cookie","rg-uri","rg-utils-url"]});
"use strict";YUI.add("rg-anim",(function(t){t.namespace("rg"),t.rg.highlight=function(e,n,i){var o=t.one(e),a=t.merge({duration:1.5},i);if(0===t.UA.ie||t.UA.ie>8)o.setStyle("backgroundColor","#fffed2"),o.transition({easing:"ease-out",duration:a.duration,backgroundColor:"rgba(0,0,0,0)"},(function(){o.setStyle("backgroundColor",""),n&&n()}));else{var r=new t.Anim({node:o,from:{backgroundColor:"#fffed2"},to:{backgroundColor:"#ffffff"},duration:a.duration});r.set("easing",t.Easing.easeOut),r.on("end",(function(){o.setStyle("backgroundColor",""),n&&n()})),r.run()}},t.rg.fadeToggle=function(e,n,i){var o,a,r=t.one(e);if(!r)return!1;o="none"!=r.getStyle("display"),a=t.merge({duration:.2},i),o?r.transition({easing:"linear",duration:a.duration,opacity:"0"},(function(){r.hide(),r.setStyle("opacity",""),n&&n()})):(r.setStyle("opacity","0"),r.show(),r.transition({easing:"linear",duration:a.duration,opacity:"1"},(function(){r.setStyle("opacity",""),n&&n()})))},t.rg.slideOpen=function(e,n,i){var o=t.one(e),a="none"!=o.getStyle("display"),r=null,d=i&&"duration"in i?i.duration:.3,g=i&&"dimension"in i?i.dimension:"height",s=new t.Anim({node:o,duration:d});if(!a){o.setStyle(g,""),o.setStyle("overflow","hidden"),o.setStyle("visibility","hidden"),o.setStyle("display","block");var l=o.getStyle("marginTop"),u=o.getStyle("marginBottom"),y=o.getStyle("marginLeft"),f=o.getStyle("marginRight"),p=o.getStyle("paddingTop"),m=o.getStyle("paddingBottom"),h=o.getStyle("paddingLeft"),S=o.getStyle("paddingRight");return"height"!=g?(o.setStyle("paddingLeft","0"),o.setStyle("paddingRight","0"),o.setStyle("marginLeft","0"),o.setStyle("marginRight","0"),r=o.get("offsetWidth"),s.set("to",{width:r,marginLeft:y,marginRight:f,paddingLeft:h,paddingRight:S})):(o.setStyle("paddingTop","0"),o.setStyle("paddingBottom","0"),o.setStyle("marginTop","0"),o.setStyle("marginBottom","0"),r=o.get("offsetHeight"),s.set("to",{height:r,marginTop:l,marginBottom:u,paddingTop:p,paddingBottom:m})),o.setStyle("display","none"),o.setStyle("visibility",""),o.setStyle(g,"1px"),s.on("start",(function(){o.show(),o.setStyle("display","block")})),s.on("end",(function(){o.removeAttribute("style"),n&&n(!0)})),s.run(),s}},t.rg.slideClose=function(e,n,i){var o=t.one(e);if(o){var a="none"!=o.getStyle("display"),r=i&&"duration"in i?i.duration:.2,d=i&&"dimension"in i?i.dimension:"height",g=new t.Anim({node:o,duration:r});if(a)return"height"!=d?g.set("to",{width:"1px",paddingLeft:"0",paddingRight:"0",marginLeft:"0",marginRight:"0"}):g.set("to",{height:"1px",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"}),g.on("start",(function(){o.setStyle("overflow","hidden")})),g.on("end",(function(){o.removeAttribute("style"),o.setStyle("display","none"),n&&n(!1)})),g.run(),g}},t.rg.slideToggle=function(e,n,i,o){var a=t.one(e);if(a){var r="none"!=a.getStyle("display");return o||(o={}),o.dimension=i?"width":"height",r?t.rg.slideClose(e,n,o):t.rg.slideOpen(e,n,o)}n&&n()},t.rg.scrollTo=function(e,n,i){e=t.one(e);var o=new t.Anim({node:e,duration:i,to:{scroll:[0,n]},easing:t.Easing.easeInOut});o.run(),o.destroy()}}),"0.0.1",{requires:["anim","transition"]});
"use strict";YUI.add("rg-base",(function(){}),"0.2.0",{requires:["array-extras","base","node","plugin","rg-ajax","event","querystring-stringify","lazysizes","rg-anim"]});
