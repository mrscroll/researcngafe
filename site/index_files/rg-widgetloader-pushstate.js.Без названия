"use strict";YUI.add("rg-tooltip",(function(t){t.namespace("rg.widget");var e=t.Base.create("alignable",t.Widget,[t.WidgetPosition,t.WidgetPositionAlign]),i=t.Base.create("TooltipPlugin",t.Plugin.Base,[],{initializer:function(){if("mouseenter"!==this.get("type")||!t.UA.touchEnabled){var i=this.get("host"),n=new e({render:!1,visible:!0,zIndex:100}),s=new e({render:!1,visible:!1,zIndex:100});this.getAttrsFromData(),i.ancestor(".y-popup-container")&&s.get("boundingBox").addClass("dialog-tooltip"),s.get("boundingBox").addClass("yui3-tooltip"),s.get("contentBox").addClass("tt-container"),s.get("contentBox").addClass("tt-container-"+this.get("align")),s.get("boundingBox").addClass(this.get("additionalClasses")),n.get("contentBox").addClass("tt-arrow"),n.get("contentBox").addClass("tt-arrow-"+this.get("align")),this.innerContainer=t.Node.create("<div></div>"),this.innerContainer.addClass("tooltip-inner"),s.get("contentBox").append(this.innerContainer),this.get("width")&&(this.innerContainer.setStyle("width",this.get("width")),this.innerContainer.setStyle("maxWidth","none")),this.get("minWidth")&&(this.innerContainer.setStyle("minWidth",this.get("minWidth")),this.innerContainer.setStyle("maxWidth","none")),this.eventHandlers=[],"mouseenter"===this.get("type")?this.eventHandlers.push(i.on("mouseover",this.show,this),i.on("mouseout",this._hide,this)):"click"===this.get("type")?(this.get("closeOnOutsideClick")&&s.plug(t.Plugin.OverlayAutohide),this.eventHandlers.push(i.on("click",this._onClick,this))):"focus"===this.get("type")?this.eventHandlers.push(i.on("focus",this.hide,this)):"togglefocus"===this.get("type")&&this.eventHandlers.push(i.on("focus",this.show,this),i.on("blur",this.hide,this)),this.eventHandlers.push(s.get("boundingBox").delegate("click",this.hide,this.get("tooltipCloseSelector"),this)),this.get("persistWhenMouseover")&&(s.on("hover",(function(){this._hover||(this._hover=!0,this.show())}),this),s.on("mouseleave",(function(){this._hover&&(this._hover=!1,this._hide())}),this));var o=this.get("overlayOffset"),a=this.get("arrowOffset");(o[0]||o[1])&&s.on("xyChange",(function(t){t.newVal[0]=t.newVal[0]+o[0],t.newVal[1]=t.newVal[1]+o[1]})),(a[0]||a[1])&&n.on("xyChange",(function(t){t.newVal[0]=t.newVal[0]+a[0],t.newVal[1]=t.newVal[1]+a[1]})),this.set("overlay",s),this.set("arrow",n)}},destructor:function(){this.get("overlay")&&(this.hide(),t.Array.each(this.eventHandlers,(function(t){t.detach()})),this.get("overlay").destroy(!0))},getAttrsFromData:function(){var e=this.get("host");t.Array.each(["align","renderTarget","width"],(function(t){var i=e.getData("tt-"+t);i&&this.set(t,i)}),this)},_onClick:function(){this.get("overlay").get("visible")?this.hide():this.show()},show:function(){this._showTooltip=!0;var e=this.get("delay"),i=this;e>0?this._timer||(this._show(!0),this._timer=t.later(e,this,(function(){i._showTooltip&&i._show(),i._timer=null}))):this._show()},_show:function(e){var i=this,n=t.Lang,s=this.get("host"),o=this.get("contentFnCtx"),a=this.get("contentFn"),h=this.get("overlay"),l=this.get("arrow"),r=!1;h.get("rendered")||(h.render(this.get("renderTarget")),l.render(h.get("contentBox")),r=!0,this.eventHandlers.push(this.after("contentChange",(function(){i._show(!i._showTooltip)}))),this.eventHandlers.push(t.before("windowresize",(function(){h.get("visible")&&(i.reposition(),h.show())})))),s.hasClass("tooltip-disabled")||((this.get("updateContentOnShow")||r)&&(n.isUndefined(o)||n.isUndefined(a)?n.isObject(this.get("content"))&&this.get("content").NAME&&"node"==this.get("content").NAME?(this.innerContainer.empty(),this.innerContainer.append(this.get("content"))):this.innerContainer.setContent(this.get("content")):this.innerContainer.setContent(a.call(o,this))),this.reposition(),e||h.show())},reposition:function(){var t=this.get("overlay");t.get("boundingBox").removeClass("tt-align-top"),t.get("boundingBox").removeClass("tt-align-bottom"),t.get("boundingBox").removeClass("tt-align-right"),t.get("boundingBox").removeClass("tt-align-left"),this.get("position").call(this)},_hide:function(e){var i=this.get("delay"),n=this;this._showTooltip=!1,i>0?t.later(200,this,(function(){n._showTooltip||n.hide(e),n._timer=null})):this.hide(e)},hide:function(e){var i=this.get("host").generateID(),n=null;e&&e.relatedTarget&&e.relatedTarget.ancestor&&(n=e.relatedTarget.ancestor("#"+i,!0)),e&&null!==n||this.get("persistWhenMouseover")&&this._hover||(this._showTooltip=!1,this._timer&&this._timer.cancel&&t.Lang.isFunction(this._timer.cancel)&&(this._timer.cancel(),this._timer=null),this.get("overlay").hide())}},{NS:"tooltip",ATTRS:{updateContentOnShow:{value:!0},renderTarget:{value:"body"},align:{value:"top"},additionalClasses:{value:""},tooltipCloseSelector:{value:".js-tooltip-close"},width:{value:null},minWidth:{value:null},content:{value:""},type:{value:"mouseenter"},overlay:{value:null},arrow:{value:null},contentFnCtx:{validator:function(e){return t.Lang.isObject(e)}},contentFn:{validator:function(e){return t.Lang.isFunction(e)}},closeOnOutsideClick:{value:!0},arrowOffset:{value:[0,0]},overlayOffset:{value:[0,0]},delay:{value:0},persistWhenMouseover:{value:!1},position:{value:function(){var t=this.get("host"),e=this.get("overlay"),i=this.get("arrow");switch(this.get("align")){case"bottom":e.get("boundingBox").addClass("tt-align-bottom"),e.align(t,["tc","bc"]),i.align(t,["tc","bc"]);break;case"left":e.get("boundingBox").addClass("tt-align-left"),e.align(t,["rc","lc"]),i.align(t,["rc","lc"]);break;case"right":e.get("boundingBox").addClass("tt-align-right"),e.align(t,["lc","rc"]),i.align(t,["lc","rc"]);break;default:e.get("boundingBox").addClass("tt-align-top"),e.align(t,["bc","tc"]),i.align(t,["bc","tc"])}}}}});t.rg.widget.Alignable=e,t.rg.widget.TooltipPlugin=i}),"0.0.1",{requires:["overlay","transition","gallery-overlay-extras"]});
"use strict";YUI.add("rg.core.form.ErrorPopoverPlugin",(function(e){e.namespace("rg.core.form"),e.rg.core.form.ErrorPopoverPlugin=e.Base.create("ErrorPopoverPlugin",e.rg.widget.TooltipPlugin,[],{initializer:function(){var o=this.get("host"),r=this.get("overlay").get("boundingBox");e.Lang.isUndefined(o.tooltip)||o.tooltip.get("overlay").get("boundingBox").addClass("popover-hidden"),r.addClass("error-popover"),this.get("fieldName")&&r.addClass("error-popover-"+this.get("fieldName"))},destructor:function(){var o=this.get("host");e.Lang.isUndefined(o.tooltip)||(o.tooltip.get("overlay").get("boundingBox").removeClass("popover-hidden"),this.get("overlay").destroy(!0))}},{NS:"errorPopover",ATTRS:{align:{value:"right"},type:{value:"manual"},fieldName:{}}})}),"0.0.1",{requires:["rg-tooltip"]});
"use strict";YUI.add("rg-validation",(function(a){a.namespace("rg.validation");var x=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,e=/^([0-9]{1,3}\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$/;a.rg.validation.isValidMail=function(a){return!!x.test(a)||(a=a.toLocaleLowerCase?a.toLocaleLowerCase():a.toLowerCase(),x.test(a))},a.rg.validation.isValidIpv4=function(a){return e.test(a)},a.rg.validation.sanitizeFormFieldName=function(a){return a.replace(/([\[\]])/g,"\\$1")}}),"0.0.1");
"use strict";YUI.add("rg.WidgetView",(function(e){e.namespace("rg");var t=e.Lang.isNull,i=e.Lang.isUndefined,r=e.rg.validation.sanitizeFormFieldName,n=function(t){var i,r,s;if(Helpers.isRenderableWidget(t))return t.id;if(e.Lang.isArray(t)){for(s in i=[],t)t.hasOwnProperty(s)&&null!==(r=n(t[s]))&&i.push(r);return i}if(e.Lang.isObject(t)){for(s in i={},t)t.hasOwnProperty(s)&&null!==(r=n(t[s]))&&(i[s]=r);return i}return null},s=e.Base.create("DestroyWidget",e.Plugin.Base,[],{initializer:function(e){this.widget=e.widget},destructor:function(){this.widget.destroy()}},{NS:"DestroyWidget"});e.rg.WidgetView=e.Base.create("WidgetView",e.Base,[],{initializer:function(t){this.id=t.id||"",this.data=t.data||{},this.partials=t.partials,this.viewClass=t.viewClass||null,this.widgetUrl=t.widgetUrl||null,this.template=t.template||null,this.compiledTemplate=t.compiledTemplate||null,this.templateExtensions=t.templateExtensions||[],this.templateName=t.templateName||null,this.yuiModules=t.yuiModules||[],this.events=e.merge(t.events||{},this.events),this._attachedViewEvents=[],this._childWidgets={},this._isYUI=t._isYUI,this.pageLayout=t.pageLayout,this.pageTitle=t.pageTitle,this.collectQueueCacheKey=t.collectQueueCacheKey,this.data.widgetId||(this.data.widgetId=this.id),this.on("rendered",(function(){var t=this.get("container");if(t){if(this.data.debugInfo&&t.setAttribute("data-debugInfo",this.data.debugInfo),this.afterRendered&&e.Lang.isFunction(this.afterRendered))if(e.config.debug)this.afterRendered();else try{this.afterRendered()}catch(t){e.error("Error calling afterRendered of widget "+this.id,t)}}else e.log("widget: "+this.id+" is not properly implemented. widgetId missing?","warn")}),this)},success:!0,errors:[],addChild:function(t,i){if(t&&i){var r=i.data.widgetId;this._childWidgets[r]=i;var n=t,s=this.getChildIds();if(t.indexOf(".")>=0){var a=t.split(".");for(n=a.splice(a.length-1,1);a.length>0;){if(!s)return;s=s[a.shift()]}}s&&(s[n]&&e.Lang.isArray(s[n])?s[n].push(r):s[n]=r)}},getChildIds:function(){return this.childIds||(this.childIds=n(this.data)),this.childIds},getChild:function(t){var i;if(t.indexOf(".")>=0){for(var r=t.split("."),n=this.getChildIds();r.length>0;){if(!n)return null;n=n[r.shift()]}i=n}else i=this.getChildIds()[t];if(!i)return null;if(e.Lang.isArray(i)){var s=[],a=e.clone(i,!0);return e.Array.each(a,(function(e){var t=this.getChildById(e);t&&s.push(t)}),this),s}return this.getChildById(i)},getChildById:function(e){var t=this._childWidgets[e];if(t&&t.get("container"))return this._childWidgets[e];var i=this.get("container").one("#"+e);if(!i)return this.removeChildById(e),null;var r=i.getData("widget");return this._childWidgets[e]=r,r},removeChildById:function(t){var i=function(t,r){for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];s===r?e.Lang.isArray(t)?t.splice(n,1):delete t[n]:e.Lang.isObject(s)&&i(s,r)}};delete this._childWidgets[t],i(this.getChildIds(),t)},setContainer:function(t){t&&(t.hasOwnProperty("domNode")&&(t=e.one(t.domNode)),t||this.get("container")&&this.get("container").purge(!0),this.set("container",t),t&&(t.plug(s,{widget:this}),t.setData("widget",this),t.addClass("js-widgetContainer"),t.addClass("yui-container"),this.attachEvents(this.events)))},destructor:function(){var e=this.get("container");this.detachEvents(),e&&e.purge(),this.set("container",null)},validateResponse:function(t){var i=this.get("container");if(i.all(".control-group, .js-error-clear").each((function(t){t.unplug(e.rg.core.form.ErrorPopoverPlugin)})),i.all(".error").removeClass("error"),!t.success){var n=t.errors;e.Object.each(n,(function(t,n){if(0===n)e.rg.notify(t,"warning");else{n=r(n);var s=i.one(".error-highlight-"+n);s&&s.addClass("error");var a=i.one(".error-"+n);if(a){var o=this.get("errorPopoverConfig"),d={content:e.Lang.isString(t)?t:t[0],fieldName:n};o&&(d=e.merge(o,d)),a.hasClass("error-align-left")?d.align="left":a.hasClass("error-align-right")?d.align="right":a.hasClass("error-align-top")?d.align="top":a.hasClass("error-align-bottom")&&(d.align="bottom"),a.plug(e.rg.core.form.ErrorPopoverPlugin,d),a.errorPopover.show()}}}),this);var s=i.all(".error").shift();if(s&&!function(e){for(var t=e.get("offsetTop"),i=e.get("offsetLeft"),r=e.get("offsetWidth"),n=e.get("offsetHeight");e.get("offsetParent");)t+=(e=e.get("offsetParent")).get("offsetTop"),i+=e.get("offsetLeft");return t>=window.pageYOffset&&i>=window.pageXOffset&&t+n<=window.pageYOffset+window.innerHeight&&i+r<=window.pageXOffset+window.innerWidth}(s)){var a=parseInt(s.getY())-60;a=a<0?0:a,e.rg.scrollTo(e.one("document"),a,.2)}return!1}return!0},validateField:function(t,i){var n=this.get("container"),s=r(t.get("name")),a=n.one(".error-highlight-"+s),o=n.one(".error-"+s);if(a&&a.removeClass("error"),o&&o.unplug(e.rg.core.form.ErrorPopoverPlugin),!i.success){if(a&&a.addClass("error"),o){var d=this.get("errorPopoverConfig"),g={content:i.errors[t.get("name")][0],fieldName:s};d&&(g=e.merge(d,g)),o.plug(e.rg.core.form.ErrorPopoverPlugin,g),o.errorPopover.show()}return!1}return!0},validateFieldFromData:function(t,i,r){var n=this.get("container"),s=n.one(".error-highlight-"+i),a=n.one(".error-"+i);if(s&&s.removeClass("error"),a&&a.unplug(e.rg.core.form.ErrorPopoverPlugin),!t&&a){var o=this.get("errorPopoverConfig"),d={content:r,fieldName:i};o&&(d=e.merge(o,d)),s&&s.addClass("error"),a&&(a.plug(e.rg.core.form.ErrorPopoverPlugin,d),a.errorPopover.show())}},updateData:function(t){this.data=e.merge(this.data,t)},attachEvents:function(r){var n,s,a,o,d=this.get("container");for(o in this.detachEvents(),r=r||this.events,e.rg.supportsPushState()&&this._attachedViewEvents.push(d.delegate("click",e.rg.widget.handleAjaxPageLoad,"a.ajax-page-load",this)),r)if(r.hasOwnProperty(o))for(a in s=r[o])s.hasOwnProperty(a)&&("string"==typeof(n=s[a])&&(n=this[n]),(i(n)||t(n))&&(e.log("Event handler not found for ["+a+"] on ["+o+"]","warn"),n=function(){}),"global"===o?this._attachedViewEvents.push(e.on(a,n,this)):"submit"===o?d.one(a)&&this._attachedViewEvents.push(d.one(a).on(o,n,this)):"click"==a?function(e,t,i,r,n){n._attachedViewEvents.push(e.delegate(t,(function(e){var t=e.currentTarget;t.hasClass("btn-inactive")||t.hasClass("btn-disabled")||t.getAttribute("disabled")?e.preventDefault():i.call(n,e)}),r,n))}(d,a,n,o,this):"change"===a&&e.UA.ie>0&&e.UA.ie<9?(this.get("container").all(o).each((function(e){this._attachedViewEvents.push(e.on("click",()=>{this.blur()}))}),this),this.get("container").all(o).each(e=>{this._attachedViewEvents.push(e.on(a,n,this))},this)):"submit"===a?this._attachedViewEvents.push(d.one(o).on(a,n,this)):this._attachedViewEvents.push(d.delegate(a,n,o,this)))},detachEvents:function(){e.Array.each(this._attachedViewEvents,(function(e){e.detach()})),this._attachedViewEvents=[]},reload:function(e,t,i){var r=this.widgetUrl,n=this.get("container");widgetLoader.loadWidget(r,e,(function(e){try{const r={replace:n,before:t,after:i};widgetRenderer.renderWidget(e,r)}catch(e){n.remove(!0)}}))},getDefaultDialogConfig:function(){return{}},render:function(e){widgetRenderer.renderWidget(this,e)}},{NAME:"view",ATTRS:{container:{value:null}}}),e.rg.WidgetView.getInstance=function(t){var i,r=t.viewClass;e.Lang.isString(r)||(r="WidgetView"),i=e.Object.getValue(e.rg,r.split(".")),e.Lang.isObject(i)||(i=e.rg.WidgetView);var n=new i(t);return n.setAttrs(t.attrs),n},e.rg.getWidgetListViewInstance=function(t){return new e.rg.WidgetView({data:{subWidgets:t},templateName:"widgetListWrapperTemplate",template:Hogan.compile("{{#subWidgets}}{{{.}}}{{/subWidgets}}",{},"widgetListWrapperTemplate.html")})}}),"1.0.0",{requires:["rg.core.form.ErrorPopoverPlugin","rg-validation"]});
"use strict";YUI.add("rg-utils-url",(function(r){r.namespace("rg.utils.url");var t,u,e,n,s,i,l,o,a,h,g=document,c=window.location;t=function(r){if(/^https?:\/\//.test(r))g.location=r;else{var t=g.getElementsByTagName("base");t&&t[0]&&t[0].href&&("/"==t[0].href.substr(t[0].href.length-1)&&"/"==r.charAt(0)&&(r=r.substr(1)),r=t[0].href+r),g.location=r}},u=function(){c.hash=""},e=function(r,t){var e;return!0!==t&&(t=!1),(e=c.hash==="#"+r)&&t&&u(),e},n=function(){return c.hash.substr(1)},s=function(r){return c.hash=r,c.hash},i=function(r){var t=r.indexOf("#");return-1===t?r:r.substr(0,t)},l=function(r){var t=i(r),u=t.indexOf("?");return u<0?t:t.substr(0,u)},h=function(r){var t=i(r),u=t.indexOf("?");return u<0?"":t.substr(u+1)},o=function(t){var u=r.one("base").get("href");return-1===t.indexOf(u)?t:t.substr(u.length)},a=function(){return r.rg.utils.url.getUrlWithoutBaseLocation(r.rg.utils.url.getUrlWithoutParams(g.location.href))},r.rg.utils.url.forwardTo=t,r.rg.utils.url.anchorExists=e,r.rg.utils.url.getAnchor=n,r.rg.utils.url.setAnchor=s,r.rg.utils.url.deleteAnchor=u,r.rg.utils.url.getUrlWithoutHash=i,r.rg.utils.url.getUrlWithoutParams=l,r.rg.utils.url.getUrlWithoutBaseLocation=o,r.rg.utils.url.getRelativeLocation=a,r.rg.utils.url.getQueryString=h}),"0.0.1",{requires:[]});
"use strict";YUI.add("rg-matchhighlighter",(function(e){e.namespace("rg");var r=/\[luc0815\](.*?)\[5180luc\]/g;e.rg.matchhighlighter=function(e){return e.replace(r,'<span class="search-result-highlighted">$1</span>')},e.rg.matchhighlighterRemove=function(e){return e.replace(r,"$1")}}),"0.0.1");
"use strict";YUI.add("rg-string",(function(r){r.namespace("rg.string"),r.rg.string.startsWith=function(r,t){return new RegExp("^"+t).test(r)},r.rg.string.arrayPrint=function(r,t,e){if(r.length<1)return"";if(1===r.length)return r[0];var n=r.length-1,i=r[n];return r.slice(0,n).join(t)+e+i},r.rg.string.shorten=function(t,e){return t.length<=e?t:r.Lang.trim(t.substring(0,e))+"..."},r.rg.string.shortenMiddle=function(r,t,e){var n=Math.ceil(t/2),i=Math.floor(t/2);return e=e||"...",r.length>t?r.substr(0,n)+e+r.substr(r.length-i):r},r.rg.string.stripTags=function(r){return r.replace(/(<([^>]+)>)/gi,"")},r.rg.string.wordWrap=function(t,e,n,i){var a,s,g,l,o,c=r.Lang.isUndefined(e)?75:e,u=r.Lang.isUndefined(n)?"\n":n,d=!r.Lang.isUndefined(i)&&i;if(t+="",c<1)return t;for(a=-1,g=(o=t.split(/\r\n|\n|\r/)).length;++a<g;o[a]+=l)for(l=o[a],o[a]="";l.length>c;o[a]+=l.slice(0,s)+((l=l.slice(s)).length?u:""))s=2==d||(s=l.slice(0,c+1).match(/\S*(\s)?$/))[1]?c:s.input.length-s[0].length||1==d&&c||s.input.length+(s=l.slice(c).match(/^\S*/)).input.length;return o.join("\n")},r.rg.string.wordBreak=function(t,e){var n,i,a,s=r.rg.string.wordWrap,g=t.split(" "),l=[];r.Lang.isUndefined(e)&&(e=45);for(n=0;n<g.length;n++)a=(i=g[n]).length>=e?s(i,e,'<wbr /><span class="wbr"></span>',!0):i,l.push(a);return l.join(" ")},r.rg.string.nodeWordBreak=function(t,e){var n,i=r.rg.string.htmlentities,a=r.rg.string.html_entity_decode,s=r.rg.string.wordBreak,g="",l=r.Node.create("<div>"+t+"</div>").get("childNodes"),o=l.size();for(n=0;n<o;n++){var c,u=l.item(n);u.hasChildNodes()&&u.get("firstChild").get("nodeValue")?(c=(c=i(s(c=a(u.get("firstChild").get("nodeValue"),"ENT_QUOTES"),e))).replace(/&lt;wbr \/&gt;&lt;span class=&quot;wbr&quot;&gt;&lt;\/span&gt;/g,'<wbr /><span class="wbr"></span>'),"A"===u.get("tagName")?g+='<a href="'+u.getAttribute("href")+'" target="_blank" rel="noopener">'+c+"</a>":g+='<span class="'+u.getAttribute("class")+'">'+c+"</span>"):u.get("nodeValue")&&(g+=c=(c=i(s(c=a(u.get("nodeValue"),"ENT_QUOTES"),e))).replace(/&lt;wbr \/&gt;&lt;span class=&quot;wbr&quot;&gt;&lt;\/span&gt;/g,'<wbr /><span class="wbr"></span>'))}return g},r.rg.string.nl2br=function(r){return"string"==typeof r?r.replace(/(\r\n)|(\n\r)|\r|\n/g,"<br />"):r},r.rg.string.get_html_translation_table=function(r,t){var e,n,i,a,s,g={},l={},o={},c={};if(o[0]="HTML_SPECIALCHARS",o[1]="HTML_ENTITIES",c[0]="ENT_NOQUOTES",c[2]="ENT_COMPAT",c[3]="ENT_QUOTES",a=r?r.toUpperCase():"HTML_SPECIALCHARS",n=isNaN(r)?a:o[r],s=t?t.toUpperCase():"ENT_COMPAT",i=isNaN(t)?s:c[t],"HTML_SPECIALCHARS"!==n&&"HTML_ENTITIES"!==n)throw new Error("Table: "+n+" not supported");for(e in g[38]="&amp;","HTML_ENTITIES"===n&&(g[160]="&nbsp;",g[161]="&iexcl;",g[162]="&cent;",g[163]="&pound;",g[164]="&curren;",g[165]="&yen;",g[166]="&brvbar;",g[167]="&sect;",g[168]="&uml;",g[169]="&copy;",g[170]="&ordf;",g[171]="&laquo;",g[172]="&not;",g[173]="&shy;",g[174]="&reg;",g[175]="&macr;",g[176]="&deg;",g[177]="&plusmn;",g[178]="&sup2;",g[179]="&sup3;",g[180]="&acute;",g[181]="&micro;",g[182]="&para;",g[183]="&middot;",g[184]="&cedil;",g[185]="&sup1;",g[186]="&ordm;",g[187]="&raquo;",g[188]="&frac14;",g[189]="&frac12;",g[190]="&frac34;",g[191]="&iquest;",g[192]="&Agrave;",g[193]="&Aacute;",g[194]="&Acirc;",g[195]="&Atilde;",g[196]="&Auml;",g[197]="&Aring;",g[198]="&AElig;",g[199]="&Ccedil;",g[200]="&Egrave;",g[201]="&Eacute;",g[202]="&Ecirc;",g[203]="&Euml;",g[204]="&Igrave;",g[205]="&Iacute;",g[206]="&Icirc;",g[207]="&Iuml;",g[208]="&ETH;",g[209]="&Ntilde;",g[210]="&Ograve;",g[211]="&Oacute;",g[212]="&Ocirc;",g[213]="&Otilde;",g[214]="&Ouml;",g[215]="&times;",g[216]="&Oslash;",g[217]="&Ugrave;",g[218]="&Uacute;",g[219]="&Ucirc;",g[220]="&Uuml;",g[221]="&Yacute;",g[222]="&THORN;",g[223]="&szlig;",g[224]="&agrave;",g[225]="&aacute;",g[226]="&acirc;",g[227]="&atilde;",g[228]="&auml;",g[229]="&aring;",g[230]="&aelig;",g[231]="&ccedil;",g[232]="&egrave;",g[233]="&eacute;",g[234]="&ecirc;",g[235]="&euml;",g[236]="&igrave;",g[237]="&iacute;",g[238]="&icirc;",g[239]="&iuml;",g[240]="&eth;",g[241]="&ntilde;",g[242]="&ograve;",g[243]="&oacute;",g[244]="&ocirc;",g[245]="&otilde;",g[246]="&ouml;",g[247]="&divide;",g[248]="&oslash;",g[249]="&ugrave;",g[250]="&uacute;",g[251]="&ucirc;",g[252]="&uuml;",g[253]="&yacute;",g[254]="&thorn;",g[255]="&yuml;"),"ENT_NOQUOTES"!==i&&(g[34]="&quot;"),"ENT_QUOTES"===i&&(g[39]="&#39;"),g[60]="&lt;",g[62]="&gt;",g)g.hasOwnProperty(e)&&(l[String.fromCharCode(e)]=g[e]);return l},r.rg.string.html_entity_decode=function(t,e){var n,i,a,s;if(a=t.toString(),!1===(n=r.rg.string.get_html_translation_table("HTML_ENTITIES",e)))return!1;for(i in delete n["&"],n["&"]="&amp;",n)n.hasOwnProperty(i)&&(s=n[i],a=a.split(s).join(i));return a=a.split("&#039;").join("'")},r.rg.string.htmlentities=function(t,e,n,i){var a=r.rg.string.get_html_translation_table("HTML_ENTITIES",e),s="";if(t=null==t?"":t+"",!a)return!1;if(e&&"ENT_QUOTES"===e&&(a["'"]="&#039;"),delete a["&"],i||null==i)for(s in t=t.split("&").join("&amp;"),a)a.hasOwnProperty(s)&&(t=t.split(s).join(a[s]));else t=t.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,(function(r,e,n){for(var i in t=t.split("&").join("&amp;"),a)a.hasOwnProperty(i)&&(e=e.split(i).join(a[i]));return e+n}));return t},r.rg.string.ucfirst=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},r.rg.string.convertDashedToCamelCaseNotation=function(t){for(var e=t.split("-"),n=1;n<e.length;n++)e[n]=r.rg.string.ucfirst(e[n]);return e.join("")},r.rg.string.convertDashedObjectKeysToCamelCaseNotation=function(t){var e={};return r.Object.each(t,(function(t,n){var i=r.rg.string.convertDashedToCamelCaseNotation(n);e[i]=t})),e}}),"0.0.1",{requires:["rg-matchhighlighter"]});
"use strict";YUI.add("rg-utils-dom",(function(e){e.namespace("rg.utils.dom"),e.rg.utils.dom.canAcceptFocus=function(t){return"hidden"!=(t=e.one(t)).getStyle("visibility")&&"none"!=t.getStyle("display")&&!t.get("disabled")},e.rg.utils.dom.disableButton=function(t){(t=e.one(t)).setAttribute("disabled","disabled"),t.addClass("btn-disabled")},e.rg.utils.dom.enableButton=function(t){(t=e.one(t)).removeClass("btn-disabled"),t.removeAttribute("disabled")}}),"0.0.1",{requires:[]});
"use strict";YUI.add("rg-overlay",(function(e){e.namespace("rg.widget");var t,i,s,n,o,l,a,h,d,c,r,g,u,p,f="host";n=[],o=e.UA.ie>5&&e.UA.ie<9,l=function(){return 0===n.length?e.one("#page-container"):a().get(f).get("boundingBox")},a=function(){return n[n.length-1]},h=function(){var e;(e=this.get(f)).get("contentBox").addClass("y-popup"),e.get("boundingBox").addClass("y-popup-modal"),e.get("visible")&&r.call(this)},d=function(e){e.newVal&&this.get(f)._syncUIPosAlign()},c=function(){var t=this.get(f),i=e.one("win").get("winHeight");o&&t.get("boundingBox").setStyle("height",i+"px")},r=function(){if(this.get("host").get("visible")){if(0===n.length&&e.one("html").addClass("has-overlay"),a()!==this){const i=l();n.push(this),e.fire("rg.popup:opened"),this.get(f).get("boundingBox").setStyle("top","0"),e.one("win").set("scrollTop",0),i.addClass("popup-fixed");var t=this.get("bodyScrollTop");i.setStyle("top",-t)}this.get("handleResize")&&(this.resizeHandler=e.on("windowresize",c,this),this.contentUpdateHandler=this.get("host").after("contentUpdate",c,this),g.call(this),c.call(this))}else{n.pop(),0===n.length&&e.one("html").removeClass("has-overlay");const t=l();e.fire("rg.popup:closed"),t.getDOMNode()&&(t.removeClass("popup-fixed"),t.setStyle("top",null)),e.one("win").set("scrollTop",this.get("bodyScrollTop")),this.get("handleResize")&&(this.resizeHandler.detach(),this.contentUpdateHandler.detach(),this.get("timer").cancel())}this.get("hideOnClickOutside")?this.get(f).get("boundingBox").on("click",p,this):this.get(f).get("boundingBox").detach("click",p,this)},g=function(){this.set("timer",e.later(1e3,this,(function(){c.call(this)}),[],!0))},u=function(){var t=this.get(f),i=e.Node.create('<div class="y-popup-container"></div>');t.get("boundingBox").appendChild(i),i.appendChild(t.get("contentBox")),this.set("bodyScrollTop",e.one("win").get("scrollTop"))},p=function(e){var t=this.get(f);e.target.contains(t.get("contentBox"))&&t.hide()},t=e.Base.create("overlayPopup",e.Plugin.Base,[],{initializer:function(){this.beforeHostMethod("renderUI",u,this),this.afterHostMethod("renderUI",h,this),this.after("hideOnClickOutsideChange",(function(){this.resizeHandler&&this.resizeHandler.detach(),r.call(this)}),this),this.after("handleResizeChange",(function(){this.get(f).get("boundingBox").detach("click",p,this),r.call(this)}),this),this.get(f).get("boundingBox").delegate("click",(function(){this.get(f).hide()}),".js-close",this),this.doBefore("visibleChange",(function(){this.get("host").get("visible")||this.set("bodyScrollTop",e.one("win").get("scrollTop"))}),this),this._onFocusOutisde=this.get(f).get("boundingBox").on("focusoutside",(function(e){a()!==this&&e.stopImmediatePropagation()}),this),this._visibleChangeBeforeHandle=this.doBefore("visibleChange",d,this),this._visibleChangeAfterHandle=this.get("host").after("visibleChange",r,this)},destructor:function(){this.get("host").get("visible")&&(this.get("host").set("visible",!1),r.call(this)),this._visibleChangeAfterHandle.detach(),this._visibleChangeBeforeHandle.detach(),this._onFocusOutisde.detach()}},{NS:"popup",ATTRS:{timer:{value:null},handleResize:{value:!0},hideOnClickOutside:{value:!0},bodyScrollTop:{value:null}}}),function(){var t=function(){var t,i,s,n;(i=(t=this.get(f)).get("contentBox")).setStyle("position","relative"),(n=(s=e.Node.create('<div class="close"><a class="js-dialog-close" href="javascript:" onclick="return false;"></a></div>')).one(".js-dialog-close")).setContent('<span class="ico-x-close-light"></span>'),i.append(s),n.on("click",t.hide,t)};i=e.Base.create("overlayCloseable",e.Plugin.Base,[],{initializer:function(){this.afterHostMethod("renderUI",t,this)},destructor:function(){var e;window.CustomEvent&&"function"==typeof window.CustomEvent?e=new CustomEvent("rg.popup:closed"):(e=document.createEvent("CustomEvent")).initCustomEvent("rg.popup:closed",!0,!0,{}),window.dispatchEvent(e)}},{NS:"closeable"})}(),function(){const n=[],o=function(){let e;return e=0===n.length?1001:n[n.length-1]+1,n.push(e),e};s=e.Base.create("Overlay",e.Overlay,[],{initializer:function(s){s.plugins=e.mix([e.Plugin.OverlayModal,{fn:e.Plugin.OverlayAutohide,cfg:{focusedOutside:!1,clickedOutside:!1,pressedEscape:!0}},{fn:t,cfg:{handleResize:s.handleResize,hideOnClickOutside:s.hideOnClickOutside}},i],s.plugins),s.autoStack?(this.set("zIndex",o()),this.set("autoStack",s.autoStack)):this.set("zIndex",s.zIndex&&"auto"!==s.zIndex?s.zIndex:1001),this._resolveFn=s.resolve,this._rejectFn=s.reject,this._hasResult=!1,this.on("bodyContentChange",(function(){this.get("autoFocusInput")&&e.Lang.later(200,this,(function(){var t=this.getStdModNode(e.WidgetStdMod.BODY);if(t){var i=t.all("input[type=text],textarea");if(!i.isEmpty()){var s=i._nodes[0];s&&e.rg.utils.dom.canAcceptFocus(s)&&s.focus()}}}))}))},destructor:function(){if(n.pop(),this._rejectFn&&!this._hasResult){const e=new Error("Dialog cancelled");e.isCancelled=!0,this._rejectFn(e)}},scaleToViewport:function(t,i){var s=e.one("body").get("winHeight"),n=this.getStdModNode(e.WidgetStdMod.BODY),o=n.get("offsetHeight"),l=n.getY(),a=e.one(".yui3-overlay-modal"),h=o-t.get("offsetHeight"),d=s-(l+50+h),c=Math.max(d,150);t.setStyle("overflowY","auto"),!0===i&&c>t.get("offsetHeight")&&t.setStyle("height",c),t.setStyle("maxHeight",c);var r=c+l+50+h;return a.setStyle("overflow","hidden"),a.setStyle("height",r-5),c},resolve:function(e){this._resolveFn(e),this._hasResult=!0,this.destroy()},reject:function(e){this._rejectFn(e),this._hasResult=!0,this.destroy()},configure:function(e){void 0!==e.hideOnClickOutside&&this.hasPlugin("popup").set("hideOnClickOutside",e.hideOnClickOutside),void 0!==e.handleResize&&this.hasPlugin("popup").set("handleResize",e.handleResize),this.render(),this.get("autoStack")?this.get("zIndex")||this.set("zIndex",o()):this.set("zIndex",e.zIndex&&"auto"!==e.zIndex?e.zIndex:1001)}},{ATTRS:{autoFocusInput:{value:!0}}})}(),e.rg.widget.OverlayPopup=t,e.rg.widget.OverlayCloseable=i,e.rg.widget.Dialog=s}),"0.0.1",{requires:["overlay","gallery-overlay-extras","rg-utils-dom"]});
"use strict";YUI.add("rg-widgetloader-renderers",(function(e){e.namespace("rg.widget");var t=e.Base.create("DestroyWidgetOnDialogHide",e.Plugin.Base,[],{initializer:function(){this.afterHostMethod("hide",(function(){if(this.get("widget")){var e=this.get("widget"),t=e.get("container");if(t){var n=t.all("*");n.set("nodes",n.get("nodes").reverse()),n.unplug(),t.unplug()}!0===e._isReact&&Helpers.unmountReactComponent(e.id)}this.get("host").destroy(!0)}),this)},destructor:function(){}},{NS:"DestroyWidgetOnDialogHide",ATTRS:{widget:{value:null}}});e.rg.widget.DestroyWidgetOnDialogHide=t,e.rg.widget.ReplaceRenderer=function(t,n,i){if("string"==typeof i&&(i=e.one(i)),!i)return!1;if(!i._node)return!1;if(!i.get("parentNode"))return!1;var o=n.getAttribute("class"),d=i.getData();d&&d.widget&&d.widget.dialog&&(t.dialog=d.widget.dialog,t.dialog.DestroyWidgetOnDialogHide.set("widget",t),d.widget.stackNodeClasses&&(e.Array.each(d.widget.stackNodeClasses.split(" "),(function(e){t.dialog._stackNode.removeClass(e)})),t.dialog._stackNode.addClass(o),n.hasClass("js-full-dialog")&&t.dialog._stackNode.addClass("full-dialog"))),t.setContainer(n),i.replace(t.get("container")),i.destroy(!0)},e.rg.widget.ReplaceContentRenderer=function(t,n,i){if("string"==typeof i&&(i=e.one(i)),!i)return!1;t.setContainer(n),i.get("children").destroy(!0),i.setContent(""),i.append(t.get("container"))},e.rg.widget.RefreshRenderer=function(e,t){if(!e.get("container"))throw new Error("can not refresh a widget that has not been rendered before");e.dialog?t.hasClass("js-full-dialog")||t.hasClass("react-container")?e.dialog.set("bodyContent",t.getContent()):(e.dialog.set("headerContent",t.one(".yui3-widget-hd")?t.one(".yui3-widget-hd").getContent():null),e.dialog.set("bodyContent",t.one(".yui3-widget-bd")?t.one(".yui3-widget-bd").getContent():null),e.dialog.set("footerContent",t.one(".yui3-widget-ft")?t.one(".yui3-widget-ft").getContent():null)):(e.get("container").empty(!0),e.get("container").setContent(t.getContent()),e.get("container").addClass("widget"))},e.rg.widget.AppendRenderer=function(t,n,i){if("string"==typeof i&&(i=e.one(i)),!i)return!1;t.setContainer(n),i.append(t.get("container"))},e.rg.widget.BeforeNodeRenderer=function(t,n,i){if("string"==typeof i&&(i=e.one(i)),!i)return!1;t.setContainer(n),i.insert(t.get("container"),"before")},e.rg.widget.AfterNodeRenderer=function(t,n,i){if("string"==typeof i&&(i=e.one(i)),!i)return!1;t.setContainer(n),i.insert(t.get("container"),"after")},e.rg.widget.PrependRenderer=function(t,n,i){if("string"==typeof i&&(i=e.one(i)),!i)return!1;t.setContainer(n),i.prepend(t.get("container"))},e.rg.widget.OpenedDialogRenderer={createDialog:function(n,i){var o=e.merge(i,{render:!1,visible:!0,bodyContent:'<div class="rendering"></div>',id:null}),d=new e.rg.widget.Dialog(o);return n&&d._stackNode.addClass(n),d.plug(t),i&&i.hideMask&&d.unplug(e.Plugin.OverlayModal),d.render(),d.show(),d},renderDialog:function(t,n,i){if(e.one("#"+t.id))return!1;if(!i)return!1;if(!i.get("visible"))return!1;if(t.dialog=i,t.dialog.configure(t.getDefaultDialogConfig()),11===n.getDOMNode().nodeType&&e.log("The dialog container is a document fragment - check your markup."),n.hasClass("js-full-dialog")||n.hasClass("react-container"))t.dialog.set("bodyContent",n),n.addClass("full-dialog"),t.setContainer(n);else{var o=n.one(".yui3-widget-hd"),d=n.one(".yui3-widget-bd"),g=n.one(".yui3-widget-ft");o||d||g||e.log("You must either set the class js-full-dialog on your dialog or provide at least one of .yui3-widget-{hd,bd,ft}, else your dialog will be empty"),t.dialog.set("headerContent",o?o.getContent():null),t.dialog.set("bodyContent",d?d.getContent():null),t.dialog.set("footerContent",g?g.getContent():null),t.dialog._stackNode.setAttribute("id",t.id),t.setContainer(t.dialog._stackNode)}t.dialog.DestroyWidgetOnDialogHide.set("widget",t);var r=n.getAttribute("class");t.dialog._stackNode.addClass(r),t.stackNodeClasses=r}},e.rg.widget.DialogRenderer=function(n,i,o){if(e.one("#"+n.id))return!1;if(o=e.merge(o,n.getDefaultDialogConfig()),o=i.hasClass("js-full-dialog")||i.hasClass("react-container")?e.merge(o,{render:!1,visible:!1,headerContent:null,bodyContent:i,footerContent:null}):e.merge(o,{render:!1,visible:!1,headerContent:i.one(".yui3-widget-hd")?i.one(".yui3-widget-hd").getContent():null,bodyContent:i.one(".yui3-widget-bd")?i.one(".yui3-widget-bd").getContent():null,footerContent:i.one(".yui3-widget-ft")?i.one(".yui3-widget-ft").getContent():null,id:n.id}),n.getCustomDialogName){var d=e.Base.create(n.getCustomDialogName(),e.rg.widget.Dialog,[]);n.dialog=new d(o)}else n.dialog=new e.rg.widget.Dialog(o);n.dialog.plug(t),n.dialog.render(),i.hasClass("js-full-dialog")||i.hasClass("react-container")?(i.addClass("full-dialog"),n.setContainer(i)):(n.dialog._stackNode.addClass(i.getAttribute("class")),n.setContainer(n.dialog._stackNode),n.dialog.DestroyWidgetOnDialogHide.set("widget",n));var g=i.getAttribute("class");n.dialog._stackNode.addClass(g),n.stackNodeClasses=g,n.dialog.show()},e.rg.widget.DialogSectionRenderer=function(t,n,i){if(e.one("#"+t.id))return!1;var o=i.hasPlugin("DestroyWidget").widget;t.dialog=o.dialog,o.set("container",null),t.dialog.set("headerContent",n.one(".yui3-widget-hd")?n.one(".yui3-widget-hd").getContent():null),t.dialog.set("bodyContent",n.one(".yui3-widget-bd")?n.one(".yui3-widget-bd").getContent():null),t.dialog.set("footerContent",n.one(".yui3-widget-ft")?n.one(".yui3-widget-ft").getContent():null),t.dialog.DestroyWidgetOnDialogHide.set("widget",t),i.unplug("DestroyWidget"),t.dialog._stackNode.set("id",t.id),t.setContainer(t.dialog._stackNode)},e.rg.widget.TooltipRenderer={createTooltip:function(t,n){return n=e.merge(n,{content:'<div class="rendering"></div>'}),t.plug(e.rg.widget.TooltipPlugin,n),t.tooltip},renderTooltip:function(t,n,i){return!e.one("#"+t.id)&&!!i&&(t.tooltip=i,void i.set("content",n))}}}),"0.0.1",{requires:["rg-utils-url","rg-string","rg-overlay","rg-tooltip"]});
"use strict";YUI.add("rg-widgetloader-pushstate",(function(e){e.namespace("rg"),e.namespace("rg.widget");var t;e.rg.CSS_RENDERING="rendering",e.rg.changePageLayout=t=function(t){var a=t.pageLayout;if(a)for(var r in a)if(a.hasOwnProperty(r)){var n=e.one(r),i=a[r];n.hasClass("rendering")&&(i+=" rendering"),n.setAttribute("class",i)}t.pageTitle&&(document.title=t.pageTitle)};var a=function(t,a){var r=e.merge({popStateUrl:null,pushStateUrl:null,widget:null},a);e.fire(t,r)};e.rg.emptyStateHandler=function(){};var r=!1,n=function(e,r,n,i){var d={before:function(){e.beforeEvent&&a(e.beforeEvent,{pushStateUrl:e.pushStateUrl,widget:r,additionalEventPayload:e.additionalEventPayload})},after:function(){e.disablePageChangeLayout||t(r),e.afterEvent&&a(e.afterEvent,{pushStateUrl:e.pushStateUrl,widget:r,additionalEventPayload:e.additionalEventPayload})},afterRendered:function(){i&&i.getDOMNode()&&i.removeClass("rendering"),e.afterRenderedEvent&&a(e.afterRenderedEvent,{pushStateUrl:e.pushStateUrl,widget:r,additionalEventPayload:e.additionalEventPayload})}};return d[n]=i,d};e.rg.widget.handleAjaxPageLoad=function(t){if(2!==t.button&&!t._event.defaultPrevented){t.preventDefault();var a=t.currentTarget,r=a.getAttribute("href"),n=a.hasAttribute("data-pushState-config")?e.JSON.parse(a.getAttribute("data-pushState-config")):null,i=a.hasAttribute("data-beforeload-event")?a.getAttribute("data-beforeload-event"):null,d=a.hasAttribute("data-before-event")?a.getAttribute("data-before-event"):null,o=a.hasAttribute("data-after-event")?a.getAttribute("data-after-event"):null,l=a.hasAttribute("data-after-rendered-event")?a.getAttribute("data-after-rendered-event"):null,s=a.hasAttribute("data-disable-layout-change")?a.getAttribute("data-disable-layout-change"):null,u=a.hasAttribute("data-additional-event-payload")?a.getAttribute("data-additional-event-payload"):null,g=!!a.hasAttribute("data-disable-history")&&"true"===a.getAttribute("data-disable-history");if(this.onHandleAjaxPageLoad&&this.onHandleAjaxPageLoad.call(this,t),!t.preventAjaxPageLoad){var f={renderer:"replaceContent",targetContainer:"#content",beforeLoadEvent:i,beforeEvent:d,afterEvent:o,afterRenderedEvent:l,disablePageChangeLayout:s,pushStateUrl:r,pushStateConfig:n,additionalEventPayload:u,disableHistory:g};e.rg.widget.ajaxPageLoad({},f)}}},e.rg.widget.ajaxPageLoad=function(i,d,o,l){var s,u,g,f,h={};if(d.pushStateConfig)for(f in d.pushStateConfig)if(d.pushStateConfig.hasOwnProperty(f)){if(!(g=e.one(f)))continue;s=d.pushStateConfig[f].url,u=d.pushStateConfig[f].renderer;break}d.pushStateUrlFiltered=RGCommons.parameterFilter.filterUrl(d.pushStateUrl),s&&u&&g||(s=d.pushStateUrl,u=d.renderer,g=e.one(d.targetContainer)),g.addClass("rendering");var p,c=e.StyleSheet(g.generateID()),v=f||d.targetContainer;(c.set(v+".rendering",{minHeight:"100%",overflow:"hidden"}),e.rg.supportsPushState()&&!d.disableHistory)?(d.beforeLoadEvent&&a(d.beforeLoadEvent,{pushStateUrl:d.pushStateUrl,additionalEventPayload:d.additionalEventPayload}),r||(p=window.location.href,r=!0,window.onpopstate=function(r){var n,i,d,o,l,s,u,g,f,h,c;if(r.state&&r.state.pushStateUrl){if(n=r.state.pushStateUrl,i=r.state.targetContainer,d=r.state.renderer,o=r.state.beforeLoadEvent,l=r.state.beforeEvent,s=r.state.afterEvent,u=r.state.afterRenderedEvent,f=r.state.disablePageChangeLayout,h=r.state.pushStateConfig,c=r.state.additionalEventPayload,h)for(var v in h)if(h.hasOwnProperty(v)){if(!(g=e.one(v)))continue;n=h[v].url,d=h[v].renderer;break}g||(g=e.one(i)),o&&a(o,{popStateUrl:n,additionalEventPayload:c}),g.addClass("rendering"),e.rg.cancelRunningRequests(),e.rg.addRequestToStack(widgetLoader.loadWidget(n,{},(function(e){var r={before:function(){l&&a(l,{popStateUrl:n,widget:e,additionalEventPayload:c})},after:function(){f||t(e),s&&a(s,{popStateUrl:n,widget:e,additionalEventPayload:c})},afterRendered:function(){g&&g.getDOMNode()&&g.removeClass("rendering"),u&&a(u,{popStateUrl:n,widget:e,additionalEventPayload:c})}};r[d]=g,e.render(r)}),this,!0))}else e.rg.emptyStateHandler(p)}),history.pushState(d,d.pushStateUrlFiltered,d.pushStateUrlFiltered),e.rg.cancelRunningRequests(),e.rg.addRequestToStack(widgetLoader.loadWidget(s,i,(function(t){t.success?(h=n(d,t,u,g),t.render(h)):widgetLoader.createWidget({id:"PageLoadError",templateName:"application/stubs/Error.html",data:{widgetId:"PageLoadError",errorCode:t.errorCode,correlationId:t.correlationId}},(function(e){h=n(d,e,u,g),e.render(h)}),this),e.Lang.isFunction(o)&&o.call(l,t)}),this,!0,"GET",{"x-push-state":1}))):widgetLoader.loadWidget(s,i,(function(e){h[u]=g,e.render(h),o&&o.call(e,l)}),this,null,"GET",{"x-push-state":1})},e.rg.supportsPushState=function(){return!(!window.history||!history.pushState)},e.rg.supportsReplaceState=function(){return!(!window.history||!history.replaceState)},e.rg.requestStack=[],e.rg.addRequestToStack=function(t){e.rg.requestStack.push(t)},e.rg.cancelRunningRequests=function(){e.rg.requestStack=e.Array.filter(e.rg.requestStack,(function(e){return e&&e.isInProgress&&e.isInProgress()&&e.abort(),!1}))},e.on("load",(function(){e.later(1e3,this,(function(){e.rg.emptyStateHandler=function(t){e.rg.utils.url.forwardTo(t)}}))}))}),"0.0.1",{requires:["json","stylesheet","rg-utils-url"]});
